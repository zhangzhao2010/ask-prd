# ASK-PRD åç«¯é¡¹ç›®æ€»ç»“

## é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**: ASK-PRD Backend
**ç‰ˆæœ¬**: v1.0.0
**å®Œæˆæ—¥æœŸ**: 2025-11-05
**å¼€å‘çŠ¶æ€**: ğŸ‰ æ ¸å¿ƒåŠŸèƒ½100%å®Œæˆ

åŸºäºAWS Bedrockçš„æ™ºèƒ½æ–‡æ¡£é—®ç­”ç³»ç»Ÿï¼Œæ”¯æŒPDFæ–‡æ¡£è§£æã€å‘é‡æ£€ç´¢å’ŒMulti-Agentæ™ºèƒ½é—®ç­”ã€‚

## æ ¸å¿ƒåŠŸèƒ½

### 1. æ–‡æ¡£ç®¡ç†ç³»ç»Ÿ
- âœ… PDFæ–‡æ¡£ä¸Šä¼ åˆ°S3
- âœ… æ–‡æ¡£åˆ—è¡¨ã€è¯¦æƒ…ã€åˆ é™¤
- âœ… æ–‡æ¡£çŠ¶æ€ç®¡ç†ï¼ˆpending/processing/completed/failedï¼‰
- âœ… æ–‡æ¡£ç»Ÿè®¡ä¿¡æ¯

### 2. çŸ¥è¯†åº“ç®¡ç†
- âœ… çŸ¥è¯†åº“CRUDæ“ä½œ
- âœ… è‡ªåŠ¨åˆ›å»ºOpenSearchç´¢å¼•
- âœ… çŸ¥è¯†åº“ç»Ÿè®¡ä¿¡æ¯
- âœ… è½¯åˆ é™¤DB + ç¡¬åˆ é™¤OpenSearch

### 3. PDFè½¬æ¢æœåŠ¡
- âœ… Markeré›†æˆï¼ˆGPUåŠ é€Ÿï¼‰
- âœ… PDFè½¬Markdownï¼ˆä¿ç•™æ ¼å¼ï¼‰
- âœ… å›¾ç‰‡è‡ªåŠ¨æå–
- âœ… Bedrock Visionç”Ÿæˆå›¾ç‰‡æè¿°
- âœ… æ”¯æŒå¤šç§å›¾ç‰‡ç±»å‹è¯†åˆ«

### 4. æ–‡æœ¬å¤„ç†
- âœ… æ™ºèƒ½åˆ†å—ï¼ˆLangChain RecursiveCharacterTextSplitterï¼‰
- âœ… ä¸­æ–‡ä¼˜åŒ–åˆ†éš”ç¬¦
- âœ… å›¾ç‰‡å¼•ç”¨è¯†åˆ«
- âœ… å›¾ç‰‡ä¸Šä¸‹æ–‡æå–
- âœ… chunk_size: 1000, overlap: 200

### 5. å‘é‡åŒ–å’Œç´¢å¼•
- âœ… æ‰¹é‡ç”ŸæˆEmbeddingsï¼ˆTitan V2, 1024ç»´ï¼‰
- âœ… æ–‡æœ¬å’Œå›¾ç‰‡ç»Ÿä¸€å‘é‡åŒ–
- âœ… OpenSearchæ‰¹é‡ç´¢å¼•ï¼ˆbulk APIï¼‰
- âœ… å®Œæ•´å…ƒæ•°æ®ä¿å­˜

### 6. åŒæ­¥ä»»åŠ¡ç³»ç»Ÿ
- âœ… å¼‚æ­¥ä»»åŠ¡ç®¡ç†ï¼ˆåˆ›å»ºã€æŸ¥è¯¢ã€å–æ¶ˆï¼‰
- âœ… å®Œæ•´9æ­¥å¤„ç†æµç¨‹
- âœ… ä»»åŠ¡å†²çªæ£€æµ‹
- âœ… è¿›åº¦è·Ÿè¸ª
- âœ… é”™è¯¯å¤„ç†å’Œé‡è¯•
- âœ… ä¸´æ—¶æ–‡ä»¶æ¸…ç†

### 7. Multi-Agentæ™ºèƒ½é—®ç­”
- âœ… Sub-Agentï¼ˆæ–‡æ¡£æ·±åº¦é˜…è¯»ï¼‰
- âœ… Main-Agentï¼ˆç»“æœç»¼åˆï¼‰
- âœ… Strandsæ¡†æ¶é›†æˆ
- âœ… Agentå·¥å…·ç³»ç»Ÿï¼ˆ@toolè£…é¥°å™¨ï¼‰
- âœ… å¹¶å‘æ§åˆ¶ï¼ˆSemaphoreï¼‰

### 8. æ™ºèƒ½æ£€ç´¢å’Œé—®ç­”
- âœ… Hybrid Searchï¼ˆå‘é‡ + BM25 + RRFï¼‰
- âœ… æµå¼é—®ç­”ï¼ˆSSEï¼‰
- âœ… æŸ¥è¯¢å†å²è®°å½•
- âœ… Tokenç»Ÿè®¡
- âœ… å“åº”æ—¶é—´è¿½è¸ª

## æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ
```
- Python: 3.12
- Webæ¡†æ¶: FastAPI 0.121.0
- Agentæ¡†æ¶: Strands Agents 1.14.0
- æ•°æ®åº“: SQLite (WALæ¨¡å¼)
- ORM: SQLAlchemy 2.0.44
- æ—¥å¿—: structlog 25.5.0
- æ–‡æœ¬å¤„ç†: LangChain 1.0.3
```

### AWSæœåŠ¡
```
- Region: us-west-2
- Bedrock:
  - ç”Ÿæˆæ¨¡å‹: Claude Sonnet 4.5 (global.anthropic.claude-sonnet-4-5-20250929-v1:0)
  - Embedding: Titan Embeddings V2 (amazon.titan-embed-text-v2:0, 1024ç»´)
  - Vision API: Claude Vision (å›¾ç‰‡ç†è§£)
- S3: æ–‡æ¡£å­˜å‚¨ï¼ˆå•ä¸€æ•°æ®æºï¼‰
- OpenSearch Serverless: å‘é‡æ£€ç´¢
```

### æ•°æ®åº“è®¾è®¡
5å¼ æ ¸å¿ƒè¡¨ï¼š
1. **knowledge_bases** - çŸ¥è¯†åº“å…ƒæ•°æ®
2. **documents** - æ–‡æ¡£å…ƒæ•°æ®
3. **chunks** - æ–‡æœ¬/å›¾ç‰‡å—ï¼ˆç»Ÿä¸€è¡¨ï¼‰
4. **sync_tasks** - åŒæ­¥ä»»åŠ¡
5. **query_history** - æŸ¥è¯¢å†å²

## APIæ¥å£æ€»è§ˆ

### çŸ¥è¯†åº“ç®¡ç† (/api/v1/knowledge-bases)
- `POST /` - åˆ›å»ºçŸ¥è¯†åº“
- `GET /` - åˆ—å‡ºçŸ¥è¯†åº“ï¼ˆåˆ†é¡µï¼‰
- `GET /{kb_id}` - è·å–è¯¦æƒ…
- `PATCH /{kb_id}` - æ›´æ–°çŸ¥è¯†åº“
- `DELETE /{kb_id}` - åˆ é™¤çŸ¥è¯†åº“

### æ–‡æ¡£ç®¡ç† (/api/v1/documents)
- `POST /?kb_id={kb_id}` - ä¸Šä¼ æ–‡æ¡£
- `GET /?kb_id={kb_id}` - åˆ—å‡ºæ–‡æ¡£ï¼ˆåˆ†é¡µï¼‰
- `GET /{doc_id}` - è·å–è¯¦æƒ…
- `DELETE /{doc_id}` - åˆ é™¤æ–‡æ¡£

### åŒæ­¥ä»»åŠ¡ (/api/v1/sync-tasks)
- `POST /` - åˆ›å»ºåŒæ­¥ä»»åŠ¡
- `GET /?kb_id={kb_id}` - åˆ—å‡ºä»»åŠ¡
- `GET /{task_id}` - æŸ¥è¯¢çŠ¶æ€
- `DELETE /{task_id}` - å–æ¶ˆä»»åŠ¡

### æ™ºèƒ½é—®ç­” (/api/v1/query)
- `POST /stream` - æµå¼é—®ç­”ï¼ˆSSEï¼‰
- `GET /history?kb_id={kb_id}` - æŸ¥è¯¢å†å²ï¼ˆåˆ†é¡µï¼‰
- `GET /history/{query_id}` - æŸ¥è¯¢è¯¦æƒ…

## æ ¸å¿ƒæµç¨‹

### æ–‡æ¡£å¤„ç†æµç¨‹ï¼ˆ9æ­¥ï¼‰
```
1. ç”¨æˆ·ä¸Šä¼ PDF â†’ S3
2. åˆ›å»ºDocumentè®°å½•ï¼ˆstatus: pendingï¼‰
3. åˆ›å»ºSyncTaskï¼ˆåå°å¼‚æ­¥æ‰§è¡Œï¼‰
   â†“
4. ä¸‹è½½PDF from S3
5. PDF â†’ Markdown (Marker)
6. æå–å›¾ç‰‡ + Vision APIç”Ÿæˆæè¿°
7. ä¸Šä¼ ç»“æœåˆ°S3
8. æ–‡æœ¬åˆ†å—ï¼ˆLangChainï¼‰
9. ä¿å­˜chunksåˆ°DB
10. ç”Ÿæˆå‘é‡ï¼ˆTitan Embeddingsï¼‰
11. ç´¢å¼•åˆ°OpenSearch
12. æ›´æ–°DocumentçŠ¶æ€ï¼ˆcompletedï¼‰
```

### æ™ºèƒ½é—®ç­”æµç¨‹ï¼ˆ6æ­¥ï¼‰
```
1. Query Rewriteï¼ˆæŸ¥è¯¢ä¼˜åŒ–ï¼‰
   â†“
2. Hybrid Searchï¼ˆå‘é‡ + BM25ï¼‰
   - ç”ŸæˆæŸ¥è¯¢å‘é‡
   - OpenSearchæ··åˆæ£€ç´¢
   - RRFç»“æœåˆå¹¶
   - TOP_K: 10ä¸ªchunks
   â†“
3. æ–‡æ¡£èšåˆ
   - æŒ‰document_idåˆ†ç»„
   - é™åˆ¶MAX_DOCUMENTS: 3ä¸ª
   â†“
4. Sub-Agentså¹¶å‘æ‰§è¡Œ
   - ä¸‹è½½Markdownå†…å®¹
   - è·å–å›¾ç‰‡æè¿°
   - åˆ›å»ºSub-Agentï¼ˆå¸¦å·¥å…·ï¼‰
   - æ·±åº¦é˜…è¯»æ–‡æ¡£
   - è¿”å›ç»“æ„åŒ–ç­”æ¡ˆ
   - å¹¶å‘æ§åˆ¶: Semaphore(5)
   â†“
5. Main-Agentç»¼åˆ
   - æ•´åˆæ‰€æœ‰Sub-Agentç»“æœ
   - è¯†åˆ«å…±åŒç‚¹å’Œå·®å¼‚
   - æŒ‰æ—¶é—´é¡ºåºç»„ç»‡
   - æ ‡æ³¨å¼•ç”¨æ¥æº
   - SSEæµå¼è¾“å‡º
   â†“
6. ä¿å­˜æŸ¥è¯¢å†å²
   - query_idã€Tokenç»Ÿè®¡
   - å“åº”æ—¶é—´
```

## é¡¹ç›®ç»“æ„

```
backend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/v1/                    # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ knowledge_bases/       # çŸ¥è¯†åº“API
â”‚   â”‚   â”œâ”€â”€ documents/             # æ–‡æ¡£API
â”‚   â”‚   â”œâ”€â”€ sync_tasks/            # åŒæ­¥ä»»åŠ¡API
â”‚   â”‚   â””â”€â”€ query/                 # æŸ¥è¯¢API
â”‚   â”œâ”€â”€ core/                      # æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ config.py              # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ database.py            # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â”œâ”€â”€ logging.py             # æ—¥å¿—ç³»ç»Ÿ
â”‚   â”‚   â””â”€â”€ errors.py              # é”™è¯¯å¤„ç†
â”‚   â”œâ”€â”€ models/                    # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ database.py            # ORMæ¨¡å‹
â”‚   â”‚   â””â”€â”€ schemas.py             # Pydanticæ¨¡å‹
â”‚   â”œâ”€â”€ services/                  # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ knowledge_base_service.py
â”‚   â”‚   â”œâ”€â”€ document_service.py
â”‚   â”‚   â”œâ”€â”€ conversion_service.py  # PDFè½¬æ¢
â”‚   â”‚   â”œâ”€â”€ chunking_service.py    # æ–‡æœ¬åˆ†å—
â”‚   â”‚   â”œâ”€â”€ embedding_service.py   # å‘é‡åŒ–
â”‚   â”‚   â”œâ”€â”€ task_service.py        # ä»»åŠ¡ç®¡ç†
â”‚   â”‚   â””â”€â”€ query_service.py       # æŸ¥è¯¢æœåŠ¡
â”‚   â”œâ”€â”€ utils/                     # å·¥å…·ç±»
â”‚   â”‚   â”œâ”€â”€ s3_client.py           # S3å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ opensearch_client.py   # OpenSearchå®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ bedrock_client.py      # Bedrockå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ agents/                    # Agentå®ç°
â”‚   â”‚   â”œâ”€â”€ tools/
â”‚   â”‚   â”‚   â””â”€â”€ document_tools.py  # æ–‡æ¡£è¯»å–å·¥å…·
â”‚   â”‚   â”œâ”€â”€ sub_agent.py           # Sub-Agent
â”‚   â”‚   â””â”€â”€ main_agent.py          # Main-Agent
â”‚   â”œâ”€â”€ workers/                   # åå°ä»»åŠ¡
â”‚   â”‚   â””â”€â”€ sync_worker.py         # åŒæ­¥Worker
â”‚   â””â”€â”€ main.py                    # FastAPIåº”ç”¨
â”œâ”€â”€ scripts/                       # æµ‹è¯•è„šæœ¬
â”‚   â”œâ”€â”€ init_db.py                 # æ•°æ®åº“åˆå§‹åŒ–
â”‚   â”œâ”€â”€ test_*.py                  # å„æ¨¡å—æµ‹è¯•
â”‚   â””â”€â”€ test_query_system.py      # å®Œæ•´ç³»ç»Ÿæµ‹è¯•
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ aks-prd.db                 # SQLiteæ•°æ®åº“
â”‚   â””â”€â”€ cache/                     # æœ¬åœ°ç¼“å­˜
â”œâ”€â”€ requirements.txt               # ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ .env                           # ç¯å¢ƒé…ç½®
â”œâ”€â”€ DEVELOPMENT.md                 # å¼€å‘è¿›åº¦
â”œâ”€â”€ CHANGELOG.md                   # æ›´æ–°æ—¥å¿—
â””â”€â”€ PROJECT_SUMMARY.md             # æœ¬æ–‡æ¡£
```

## ä»£ç ç»Ÿè®¡

### æ€»ä½“ç»Ÿè®¡
- **æ€»ä»£ç é‡**: ~8000+ è¡Œ
- **Serviceå±‚**: ~2500 è¡Œ
- **APIå±‚**: ~800 è¡Œ
- **Agentå±‚**: ~550 è¡Œ
- **Utilså±‚**: ~1200 è¡Œ
- **Modelså±‚**: ~600 è¡Œ

### æ ¸å¿ƒæ–‡ä»¶
| æ–‡ä»¶ | è¡Œæ•° | åŠŸèƒ½ |
|------|------|------|
| query_service.py | 480 | æŸ¥è¯¢æœåŠ¡ |
| conversion_service.py | 476 | PDFè½¬æ¢ |
| chunking_service.py | 450 | æ–‡æœ¬åˆ†å— |
| embedding_service.py | 340 | å‘é‡åŒ– |
| sync_worker.py | 330 | åŒæ­¥Worker |
| task_service.py | 290 | ä»»åŠ¡ç®¡ç† |
| sub_agent.py | 230 | Sub-Agent |
| main_agent.py | 220 | Main-Agent |
| opensearch_client.py | 400 | OpenSearchå®¢æˆ·ç«¯ |
| bedrock_client.py | 300 | Bedrockå®¢æˆ·ç«¯ |

## å…³é”®è®¾è®¡å†³ç­–

### 1. å›¾ç‰‡ä½œä¸ºç‹¬ç«‹chunk
**å†³ç­–**: å›¾ç‰‡ç”Ÿæˆæè¿°åä½œä¸ºç‹¬ç«‹chunkå‘é‡åŒ–
**ç†ç”±**:
- ä¾¿äºç²¾å‡†å¼•ç”¨
- ä¸æ–‡æœ¬chunkåœ¨åŒä¸€å‘é‡ç©ºé—´
- æ”¯æŒå›¾ç‰‡ç‹¬ç«‹æ£€ç´¢

### 2. Multi-Agentæ¶æ„
**å†³ç­–**: ä½¿ç”¨Sub-Agent + Main-Agentæ¨¡å¼
**ç†ç”±**:
- å•ä¸ªchunkä¿¡æ¯ä¸å®Œæ•´
- éœ€è¦é˜…è¯»æ•´ä¸ªæ–‡æ¡£æ‰èƒ½å‡†ç¡®å›ç­”
- ç‰¹åˆ«é€‚åˆæ¼”è¿›å†å²ç±»è·¨æ–‡æ¡£é—®é¢˜

### 3. SQLiteè€ŒéRDS
**å†³ç­–**: Demoé˜¶æ®µä½¿ç”¨SQLite
**ç†ç”±**:
- ç®€åŒ–éƒ¨ç½²
- æ— éœ€é¢å¤–é…ç½®
- é¢„ç•™RDSè¿ç§»è·¯å¾„

### 4. S3ä½œä¸ºå•ä¸€æ•°æ®æº
**å†³ç­–**: æ‰€æœ‰æ–‡ä»¶å¿…é¡»ä¸Šä¼ S3
**ç†ç”±**:
- é¿å…é‡å¤è¿è¡ŒMarkerï¼ˆè€—æ—¶ä¸”éœ€GPUï¼‰
- æœ¬åœ°ç¼“å­˜å¯èƒ½æ¸…ç†æˆ–ä¸¢å¤±
- æ”¯æŒå¤šå®ä¾‹éƒ¨ç½²
- ç¾éš¾æ¢å¤èƒ½åŠ›

### 5. Strandsæ¡†æ¶
**å†³ç­–**: ä½¿ç”¨Strands Agents SDK
**ç†ç”±**:
- AWSå®˜æ–¹Agentæ¡†æ¶
- ä¸Bedrockæ·±åº¦é›†æˆ
- ç®€åŒ–Agentå¼€å‘
- è‡ªåŠ¨Metricsæ”¶é›†

## æ€§èƒ½ä¼˜åŒ–

### 1. æœ¬åœ°ç¼“å­˜ç­–ç•¥
- ä¼˜å…ˆä½¿ç”¨æœ¬åœ°ç¼“å­˜
- S3ä½œä¸ºå¤‡ä»½
- LRUæ¸…ç†ç­–ç•¥

### 2. æ‰¹é‡å¤„ç†
- Embeddingæ‰¹é‡ç”Ÿæˆï¼ˆbatch_size: 25ï¼‰
- OpenSearchæ‰¹é‡ç´¢å¼•ï¼ˆbulk APIï¼‰

### 3. å¹¶å‘æ§åˆ¶
- Sub-Agentå¹¶å‘æ‰§è¡Œï¼ˆasyncioï¼‰
- Semaphoreé™æµï¼ˆmax: 5ï¼‰
- é¿å…Bedrocké™æµ

### 4. æ•°æ®åº“ä¼˜åŒ–
- SQLite WALæ¨¡å¼
- ç´¢å¼•ä¼˜åŒ–
- è¿æ¥æ± ç®¡ç†

## æµ‹è¯•è®°å½•

### å·²æµ‹è¯•æ¨¡å—
- âœ… çŸ¥è¯†åº“APIï¼ˆå®Œæ•´æµ‹è¯•ï¼‰
- âœ… æ–‡æ¡£APIï¼ˆå®Œæ•´æµ‹è¯•ï¼‰
- âœ… AWSå·¥å…·ç±»ï¼ˆS3/OpenSearch/Bedrockï¼‰
- âœ… PDFè½¬æ¢æœåŠ¡
- âœ… æ–‡æœ¬åˆ†å—æœåŠ¡
- âœ… å‘é‡åŒ–æœåŠ¡
- âœ… åŒæ­¥ä»»åŠ¡ç³»ç»Ÿ
- âœ… Agentç³»ç»Ÿ
- âœ… æŸ¥è¯¢ç³»ç»Ÿ

### æµ‹è¯•è„šæœ¬
- `scripts/test_agents.py` - Agentç³»ç»Ÿæµ‹è¯•
- `scripts/test_chunking.py` - åˆ†å—æœåŠ¡æµ‹è¯•
- `scripts/test_conversion.py` - è½¬æ¢æœåŠ¡æµ‹è¯•
- `scripts/test_sync_system.py` - åŒæ­¥ç³»ç»Ÿæµ‹è¯•
- `scripts/test_query_system.py` - æŸ¥è¯¢ç³»ç»Ÿæµ‹è¯•

## ä½¿ç”¨æŒ‡å—

### å¯åŠ¨æœåŠ¡
```bash
cd backend
source venv/bin/activate
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### åŸºæœ¬ä½¿ç”¨æµç¨‹

#### 1. åˆ›å»ºçŸ¥è¯†åº“
```bash
curl -X POST "http://localhost:8000/api/v1/knowledge-bases" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "äº§å“PRDçŸ¥è¯†åº“",
    "description": "å­˜å‚¨äº§å“PRDæ–‡æ¡£",
    "s3_prefix": "prds/product-a/"
  }'
```

#### 2. ä¸Šä¼ æ–‡æ¡£
```bash
curl -X POST "http://localhost:8000/api/v1/documents?kb_id={kb_id}" \
  -F "file=@document.pdf"
```

#### 3. åˆ›å»ºåŒæ­¥ä»»åŠ¡
```bash
curl -X POST "http://localhost:8000/api/v1/sync-tasks" \
  -H "Content-Type: application/json" \
  -d '{
    "kb_id": "{kb_id}",
    "task_type": "full_sync"
  }'
```

#### 4. æŸ¥è¯¢çŠ¶æ€
```bash
curl "http://localhost:8000/api/v1/sync-tasks/{task_id}"
```

#### 5. æ™ºèƒ½é—®ç­”ï¼ˆSSEæµå¼ï¼‰
```bash
curl -N "http://localhost:8000/api/v1/query/stream?kb_id={kb_id}&query=äº§å“çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯ä»€ä¹ˆ"
```

#### 6. æŸ¥çœ‹æŸ¥è¯¢å†å²
```bash
curl "http://localhost:8000/api/v1/query/history?kb_id={kb_id}&page=1&page_size=20"
```

## å·²çŸ¥é™åˆ¶

1. **Markerä¾èµ–GPU**: PDFè½¬æ¢éœ€è¦GPUæ”¯æŒï¼ˆæ¨èNVIDIA T4æˆ–æ›´å¥½ï¼‰
2. **å¹¶å‘é™åˆ¶**: Sub-Agentå¹¶å‘æ•°é™åˆ¶ä¸º5ï¼Œé¿å…Bedrocké™æµ
3. **SQLiteå•æœº**: å½“å‰ä½¿ç”¨SQLiteï¼Œä¸æ”¯æŒå¤šå®ä¾‹éƒ¨ç½²ï¼ˆå¯è¿ç§»åˆ°RDSï¼‰
4. **ç¼“å­˜æ¸…ç†**: æœ¬åœ°ç¼“å­˜éœ€æ‰‹åŠ¨æ¸…ç†æˆ–å®ç°LRUç­–ç•¥
5. **æ— è®¤è¯**: å½“å‰ç‰ˆæœ¬æ— ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†

## ä¸‹ä¸€æ­¥è®¡åˆ’

### Phase 10: æµ‹è¯•å’Œä¼˜åŒ–ï¼ˆå¯é€‰ï¼‰
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–
- [ ] é›†æˆæµ‹è¯•
- [ ] æ€§èƒ½æµ‹è¯•
- [ ] å‹åŠ›æµ‹è¯•

### åŠŸèƒ½å¢å¼ºï¼ˆå¯é€‰ï¼‰
- [ ] ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†
- [ ] å¤šç§Ÿæˆ·æ”¯æŒ
- [ ] ç¼“å­˜è‡ªåŠ¨æ¸…ç†ï¼ˆLRUï¼‰
- [ ] ç›‘æ§å’Œå‘Šè­¦
- [ ] Metricsæ”¶é›†
- [ ] Tracingæ”¯æŒ

### å‰ç«¯å¼€å‘
- [ ] Next.js 16 + TypeScript
- [ ] AWS Cloudscape Design System
- [ ] SSEäº‹ä»¶æµå±•ç¤º
- [ ] å®æ—¶é—®ç­”ç•Œé¢
- [ ] æŸ¥è¯¢å†å²ç®¡ç†

## æ€»ç»“

ğŸ‰ **ASK-PRD Backend v1.0.0 å·²å®Œæˆæ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ï¼**

æœ¬é¡¹ç›®æˆåŠŸå®ç°äº†ï¼š
- âœ… å®Œæ•´çš„æ–‡æ¡£ç®¡ç†ç³»ç»Ÿ
- âœ… GPUåŠ é€Ÿçš„PDFè½¬æ¢ï¼ˆMarkerï¼‰
- âœ… å¤šæ¨¡æ€ç†è§£ï¼ˆæ–‡æœ¬ + å›¾ç‰‡ï¼‰
- âœ… æ··åˆæ£€ç´¢ï¼ˆå‘é‡ + BM25ï¼‰
- âœ… Multi-Agentæ™ºèƒ½é—®ç­”
- âœ… æµå¼è¾“å‡ºï¼ˆSSEï¼‰
- âœ… å®Œæ•´çš„ä»»åŠ¡ç®¡ç†

ç³»ç»Ÿå·²ç»å…·å¤‡ç”Ÿäº§çº§åˆ«çš„åŠŸèƒ½å®Œæ•´æ€§ï¼Œå¯ä»¥ï¼š
1. ä¸Šä¼ PDFæ–‡æ¡£å¹¶è‡ªåŠ¨å¤„ç†
2. ç†è§£å›¾æ–‡æ··æ’å†…å®¹
3. æ‰§è¡Œæ™ºèƒ½æ£€ç´¢
4. ç”Ÿæˆé«˜è´¨é‡ç­”æ¡ˆ
5. è¿½è¸ªæŸ¥è¯¢å†å²å’ŒTokenä½¿ç”¨

**æŠ€æœ¯äº®ç‚¹**ï¼š
- ä½¿ç”¨AWSæœ€æ–°çš„Claude Sonnet 4.5æ¨¡å‹
- Strandsæ¡†æ¶çš„Multi-Agentå®ç°
- æ··åˆæ£€ç´¢ï¼ˆRRFç®—æ³•ï¼‰
- SSEå®æ—¶æµå¼è¾“å‡º
- å®Œæ•´çš„å¼‚æ­¥ä»»åŠ¡ç³»ç»Ÿ

---

**å¼€å‘å®Œæˆæ—¥æœŸ**: 2025-11-05
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**ç»´æŠ¤è€…**: Claude Code
